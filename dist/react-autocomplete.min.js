!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],e):"object"==typeof exports?exports.ReactAutocomplete=e(require("react"),require("react-dom")):t.ReactAutocomplete=e(t.React,t.ReactDOM)}(this,function(t,e){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return t[o].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";t.exports=n(1)},function(t,e,n){"use strict";var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},i=n(2),r=n(3),l=n(4),s=[],u=i.createClass({displayName:"Autocomplete",propTypes:{autocompleteInputValue:i.PropTypes.bool,initialValue:i.PropTypes.any,onChange:i.PropTypes.func,onSelect:i.PropTypes.func,shouldItemRender:i.PropTypes.func,renderItem:i.PropTypes.func.isRequired,menuStyle:i.PropTypes.object,inputProps:i.PropTypes.object},getDefaultProps:function(){return{autocompleteInputValue:!0,inputProps:{},onChange:function(){},onSelect:function(t,e){},renderMenu:function(t,e,n){return i.createElement("div",{style:o({},n,this.menuStyle),children:t})},shouldItemRender:function(){return!0},menuStyle:{borderRadius:"3px",boxShadow:"0 2px 12px rgba(0, 0, 0, 0.1)",background:"rgba(255, 255, 255, 0.9)",padding:"2px 0",fontSize:"90%",position:"fixed",overflow:"auto",maxHeight:"50%"}}},getInitialState:function(){return{value:this.props.initialValue||"",isOpen:!1,highlightedIndex:null}},componentWillMount:function(){this._ignoreBlur=!1,this._performAutoCompleteOnUpdate=!1,this._performAutoCompleteOnKeyUp=!1},componentWillReceiveProps:function(){this._performAutoCompleteOnUpdate=!0},componentDidUpdate:function(t,e){this.state.isOpen===!0&&e.isOpen===!1&&this.setMenuPositions(),this.state.isOpen&&this._performAutoCompleteOnUpdate&&(this._performAutoCompleteOnUpdate=!1,this.maybeAutoCompleteText()),this.maybeScrollItemIntoView()},maybeScrollItemIntoView:function(){if(this.state.isOpen===!0&&null!==this.state.highlightedIndex){var t=r.findDOMNode(this.refs["item-"+this.state.highlightedIndex]),e=r.findDOMNode(this.refs.menu);t&&e&&l(t,e,{onlyScrollIfNeeded:!0})}},handleCompletion:function(t){var e=this,n=t.nativeEvent;if(this.state.isOpen!==!1)if(null==this.state.highlightedIndex)this.setState({isOpen:!1},function(){r.findDOMNode(e.refs.input).select()});else{var o=this.getFilteredItems()[this.state.highlightedIndex];this.setState({value:this.props.getItemValue(o),isOpen:!1,highlightedIndex:null},function(){r.findDOMNode(e.refs.input).setSelectionRange(e.state.value.length,e.state.value.length),e.props.onSelect(e.state.value,o,n)})}},handleKeyDown:function(t){this.keyDownHandlers[t.key]?this.keyDownHandlers[t.key].call(this,t):this.setState({highlightedIndex:null,isOpen:!0})},handleChange:function(t){var e=this;this._performAutoCompleteOnKeyUp=!0,this.setState({value:t.target.value},function(){e.props.onChange(t,e.state.value)})},handleKeyUp:function(){this._performAutoCompleteOnKeyUp&&(this._performAutoCompleteOnKeyUp=!1,this.maybeAutoCompleteText())},keyDownHandlers:{ArrowDown:function(){event.preventDefault();var t=this.state.highlightedIndex,e=null===t||t===this.getFilteredItems().length-1?0:t+1;this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:e,isOpen:!0})},ArrowUp:function(t){t.preventDefault();var e=this.state.highlightedIndex,n=0===e||null===e?this.getFilteredItems().length-1:e-1;this._performAutoCompleteOnKeyUp=!0,this.setState({highlightedIndex:n,isOpen:!0})},Enter:function(t){this.handleCompletion(t)},Escape:function(t){this.setState({highlightedIndex:null,isOpen:!1})},Tab:function(t){t.preventDefault(),this.handleCompletion(t)}},getFilteredItems:function(){var t=this,e=this.props.items;return this.props.shouldItemRender&&(e=e.filter(function(e){return t.props.shouldItemRender(e,t.state.value)})),this.props.sortItems&&e.sort(function(e,n){return t.props.sortItems(e,n,t.state.value)}),e},maybeAutoCompleteText:function(){var t=this;if(this.props.autocompleteInputValue&&""!==this.state.value){var e=this.state.highlightedIndex,n=this.getFilteredItems();if(0!==n.length){var o=null!==e?n[e]:n[0],i=this.props.getItemValue(o),l=0===i.toLowerCase().indexOf(this.state.value.toLowerCase());if(l){var s=r.findDOMNode(this.refs.input),u=function(){s.value=i,s.setSelectionRange(t.state.value.length,i.length)};null===e?this.setState({highlightedIndex:0},u):u()}}}},setMenuPositions:function(){var t=r.findDOMNode(this.refs.input),e=t.getBoundingClientRect(),n=getComputedStyle(t),o=parseInt(n.marginBottom,10),i=parseInt(n.marginLeft,10),l=parseInt(n.marginRight,10);this.setState({menuTop:e.bottom+o,menuLeft:e.left+i,menuWidth:e.width+i+l})},highlightItemFromMouse:function(t){this.setState({highlightedIndex:t})},selectItemFromMouse:function(t,e){var n=this,o=e.nativeEvent;this.setState({value:this.props.getItemValue(t),isOpen:!1,highlightedIndex:null},function(){n.props.onSelect(n.state.value,t,o),r.findDOMNode(n.refs.input).focus(),n.setIgnoreBlur(!1)})},setIgnoreBlur:function(t){this._ignoreBlur=t},renderMenu:function(){var t=this,e=this.getFilteredItems().map(function(e,n){var o=t.props.renderItem(e,t.state.highlightedIndex===n,{cursor:"default"});return i.cloneElement(o,{onMouseDown:function(){return t.setIgnoreBlur(!0)},onMouseEnter:function(){return t.highlightItemFromMouse(n)},onClick:function(n){return t.selectItemFromMouse(e,n)},ref:"item-"+n})}),n={left:this.state.menuLeft,top:this.state.menuTop,minWidth:this.state.menuWidth},o=this.props.renderMenu(e,this.state.value,n);return i.cloneElement(o,{ref:"menu"})},handleInputBlur:function(){this._ignoreBlur||this.setState({isOpen:!1,highlightedIndex:null})},handleInputFocus:function(){this._ignoreBlur||this.setState({isOpen:!0})},handleInputClick:function(){this.state.isOpen===!1&&this.setState({isOpen:!0})},render:function(){var t=this;return this.props.debug&&s.push({id:s.length,state:this.state}),i.createElement("div",{style:{display:"inline-block",flexGrow:1}},i.createElement("input",o({},this.props.inputProps,{role:"combobox","aria-autocomplete":"both",ref:"input",onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onChange:function(e){return t.handleChange(e)},onKeyDown:function(e){return t.handleKeyDown(e)},onKeyUp:function(e){return t.handleKeyUp(e)},onClick:this.handleInputClick,value:this.state.value})),this.state.isOpen&&this.renderMenu(),this.props.debug&&i.createElement("pre",{style:{marginLeft:300}},JSON.stringify(s.slice(s.length-5,s.length),null,2)))},focus:function(){r.findDOMNode(this.refs.input).focus()},resetInput:function(){var t=this;this.setState({value:""},function(){t.props.onChange(event,t.state.value)})}});t.exports=u},function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){t.exports=n(5)},function(t,e,n){function o(t,e,n){n=n||{},9===e.nodeType&&(e=i.getWindow(e));var o=n.allowHorizontalScroll,r=n.onlyScrollIfNeeded,l=n.alignWithTop,s=n.alignWithLeft;o=void 0===o?!0:o;var u,p,a,f,h,d,c,m,g,v,y=i.isWindow(e),I=i.offset(t),w=i.outerHeight(t),x=i.outerWidth(t);y?(c=e,v=i.height(c),g=i.width(c),m={left:i.scrollLeft(c),top:i.scrollTop(c)},h={left:I.left-m.left,top:I.top-m.top},d={left:I.left+x-(m.left+g),top:I.top+w-(m.top+v)},f=m):(u=i.offset(e),p=e.clientHeight,a=e.clientWidth,f={left:e.scrollLeft,top:e.scrollTop},h={left:I.left-(u.left+(parseFloat(i.css(e,"borderLeftWidth"))||0)),top:I.top-(u.top+(parseFloat(i.css(e,"borderTopWidth"))||0))},d={left:I.left+x-(u.left+a+(parseFloat(i.css(e,"borderRightWidth"))||0)),top:I.top+w-(u.top+p+(parseFloat(i.css(e,"borderBottomWidth"))||0))}),h.top<0||d.top>0?l===!0?i.scrollTop(e,f.top+h.top):l===!1?i.scrollTop(e,f.top+d.top):h.top<0?i.scrollTop(e,f.top+h.top):i.scrollTop(e,f.top+d.top):r||(l=void 0===l?!0:!!l,l?i.scrollTop(e,f.top+h.top):i.scrollTop(e,f.top+d.top)),o&&(h.left<0||d.left>0?s===!0?i.scrollLeft(e,f.left+h.left):s===!1?i.scrollLeft(e,f.left+d.left):h.left<0?i.scrollLeft(e,f.left+h.left):i.scrollLeft(e,f.left+d.left):r||(s=void 0===s?!0:!!s,s?i.scrollLeft(e,f.left+h.left):i.scrollLeft(e,f.left+d.left)))}var i=n(6);t.exports=o},function(t,e){function n(t){var e,n,o,i=t.ownerDocument,r=i.body,l=i&&i.documentElement;return e=t.getBoundingClientRect(),n=e.left,o=e.top,n-=l.clientLeft||r.clientLeft||0,o-=l.clientTop||r.clientTop||0,{left:n,top:o}}function o(t,e){var n=t["page"+(e?"Y":"X")+"Offset"],o="scroll"+(e?"Top":"Left");if("number"!=typeof n){var i=t.document;n=i.documentElement[o],"number"!=typeof n&&(n=i.body[o])}return n}function i(t){return o(t)}function r(t){return o(t,!0)}function l(t){var e=n(t),o=t.ownerDocument,l=o.defaultView||o.parentWindow;return e.left+=i(l),e.top+=r(l),e}function s(t,e,n){var o="",i=t.ownerDocument;return(n=n||i.defaultView.getComputedStyle(t,null))&&(o=n.getPropertyValue(e)||n[e]),o}function u(t,e){var n=t[O]&&t[O][e];if(x.test(n)&&!b.test(e)){var o=t.style,i=o[C],r=t[S][C];t[S][C]=t[O][C],o[C]="fontSize"===e?"1em":n||0,n=o.pixelLeft+T,o[C]=i,t[S][C]=r}return""===n?"auto":n}function p(t,e){"static"===v(t,"position")&&(t.style.position="relative");var n,o,i=l(t),r={};for(o in e)n=parseFloat(v(t,o))||0,r[o]=n+e[o]-i[o];v(t,r)}function a(t,e){for(var n=0;n<t.length;n++)e(t[n])}function f(t){return"border-box"===I(t,"boxSizing")}function h(t,e,n){var o,i={},r=t.style;for(o in e)i[o]=r[o],r[o]=e[o];n.call(t);for(o in e)r[o]=i[o]}function d(t,e,n){var o,i,r,l=0;for(i=0;i<e.length;i++)if(o=e[i])for(r=0;r<n.length;r++){var s;s="border"===o?o+n[r]+"Width":o+n[r],l+=parseFloat(I(t,s))||0}return l}function c(t){return null!=t&&t==t.window}function m(t,e,n){if(c(t))return"width"===e?R.viewportWidth(t):R.viewportHeight(t);if(9===t.nodeType)return"width"===e?R.docWidth(t):R.docHeight(t);var o="width"===e?["Left","Right"]:["Top","Bottom"],i="width"===e?t.offsetWidth:t.offsetHeight,r=I(t),l=f(t,r),s=0;(null==i||0>=i)&&(i=void 0,s=I(t,e),(null==s||Number(s)<0)&&(s=t.style[e]||0),s=parseFloat(s)||0),void 0===n&&(n=l?M:W);var u=void 0!==i||l,p=i||s;return n===W?u?p-d(t,["border","padding"],o,r):s:u?p+(n===M?0:n===L?-d(t,["border"],o,r):d(t,["margin"],o,r)):s+d(t,D.slice(n),o,r)}function g(t){var e,n=arguments;return 0!==t.offsetWidth?e=m.apply(void 0,n):h(t,A,function(){e=m.apply(void 0,n)}),e}function v(t,e,n){if("object"!=typeof e)return"undefined"==typeof n?I(t,e):("number"==typeof n&&(n+="px"),void(t.style[e]=n));for(var o in e)v(t,o,e[o])}function y(t,e){for(var n in e)t[n]=e[n];return t}var I,w=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,x=new RegExp("^("+w+")(?!px)[a-z%]+$","i"),b=/^(top|right|bottom|left)$/,O="currentStyle",S="runtimeStyle",C="left",T="px";"undefined"!=typeof window&&(I=window.getComputedStyle?s:u);var D=["margin","border","padding"],W=-1,L=2,M=1,F=0,R={};a(["Width","Height"],function(t){R["doc"+t]=function(e){var n=e.document;return Math.max(n.documentElement["scroll"+t],n.body["scroll"+t],R["viewport"+t](n))},R["viewport"+t]=function(e){var n="client"+t,o=e.document,i=o.body,r=o.documentElement,l=r[n];return"CSS1Compat"===o.compatMode&&l||i&&i[n]||l}});var A={position:"absolute",visibility:"hidden",display:"block"};a(["width","height"],function(t){var e=t.charAt(0).toUpperCase()+t.slice(1);R["outer"+e]=function(e,n){return e&&g(e,t,n?F:M)};var n="width"===t?["Left","Right"]:["Top","Bottom"];R[t]=function(e,o){if(void 0===o)return e&&g(e,t,W);if(e){var i=I(e),r=f(e);return r&&(o+=d(e,["padding","border"],n,i)),v(e,t,o)}}});var E=t.exports={getWindow:function(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow},offset:function(t,e){return"undefined"==typeof e?l(t):void p(t,e)},isWindow:c,each:a,css:v,clone:function(t){var e={};for(var n in t)e[n]=t[n];var o=t.overflow;if(o)for(n in t)e.overflow[n]=t.overflow[n];return e},mix:y,scrollLeft:function(t,e){if(c(t)){if(void 0===e)return i(t);window.scrollTo(e,r(t))}else{if(void 0===e)return t.scrollLeft;t.scrollLeft=e}},scrollTop:function(t,e){if(c(t)){if(void 0===e)return r(t);window.scrollTo(i(t),e)}else{if(void 0===e)return t.scrollTop;t.scrollTop=e}},merge:function(){for(var t={},e=0;e<arguments.length;e++)E.mix(t,arguments[e]);return t},viewportWidth:0,viewportHeight:0};y(E,R)}])});
//# sourceMappingURL=react-autocomplete.min.js.map